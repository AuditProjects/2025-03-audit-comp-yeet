# Aderyn Analysis Report

This report was generated by [Aderyn](https://github.com/Cyfrin/aderyn), a static analysis tool built by [Cyfrin](https://cyfrin.io), a blockchain security company. This report is not a substitute for manual audit or security review. It should not be relied upon for any purpose other than to assist in the identification of potential security vulnerabilities.
# Table of Contents

- [Summary](#summary)
  - [Files Summary](#files-summary)
  - [Files Details](#files-details)
  - [Issue Summary](#issue-summary)
- [High Issues](#high-issues)
  - [H-1: Contract Name Reused in Different Files](#h-1-contract-name-reused-in-different-files)
  - [H-2: ETH transferred without address checks](#h-2-eth-transferred-without-address-checks)
  - [H-3: Tautology or Contradiction in comparison](#h-3-tautology-or-contradiction-in-comparison)
  - [H-4: Weak Randomness](#h-4-weak-randomness)
  - [H-5: Contract locks Ether without a withdraw function](#h-5-contract-locks-ether-without-a-withdraw-function)
- [Low Issues](#low-issues)
  - [L-1: Centralization Risk](#l-1-centralization-risk)
  - [L-2: Unsafe ERC20 Operation](#l-2-unsafe-erc20-operation)
  - [L-3: Unspecific Solidity Pragma](#l-3-unspecific-solidity-pragma)
  - [L-4: Address State Variable Set Without Checks](#l-4-address-state-variable-set-without-checks)
  - [L-5: Public Function Not Used Internally](#l-5-public-function-not-used-internally)
  - [L-6: Literal Instead of Constant](#l-6-literal-instead-of-constant)
  - [L-7: `nonReentrant` is Not the First Modifier](#l-7-nonreentrant-is-not-the-first-modifier)
  - [L-8: PUSH0 Opcode](#l-8-push0-opcode)
  - [L-9: Modifier Invoked Only Once](#l-9-modifier-invoked-only-once)
  - [L-10: Large Numeric Literal](#l-10-large-numeric-literal)
  - [L-11: Contract has TODO Comments](#l-11-contract-has-todo-comments)
  - [L-12: Unused Error](#l-12-unused-error)
  - [L-13: Loop Contains `require`/`revert`](#l-13-loop-contains-requirerevert)
  - [L-14: Uninitialized Local Variable](#l-14-uninitialized-local-variable)
  - [L-15: Costly operations inside loop](#l-15-costly-operations-inside-loop)
  - [L-16: Unused Import](#l-16-unused-import)
  - [L-17: State Variable Could Be Constant](#l-17-state-variable-could-be-constant)
  - [L-18: State Change Without Event](#l-18-state-change-without-event)
  - [L-19: State Variable Could Be Immutable](#l-19-state-variable-could-be-immutable)


# Summary

## Files Summary

| Key | Value |
| --- | --- |
| .sol Files | 30 |
| Total nSLOC | 2492 |


## Files Details

| Filepath | nSLOC |
| --- | --- |
| src/INFTContract.sol | 6 |
| src/NFTVesting.sol | 109 |
| src/Reward.sol | 114 |
| src/RewardSettings.sol | 21 |
| src/StakeV2.sol | 282 |
| src/Yeet.sol | 423 |
| src/YeetGameSettings.sol | 96 |
| src/YeetToken.sol | 7 |
| src/Yeetback.sol | 94 |
| src/contracts/MoneyBrinter.sol | 214 |
| src/contracts/Zapper.sol | 462 |
| src/interfaces/IBondAggregator.sol | 31 |
| src/interfaces/IBondAuctioneer.sol | 36 |
| src/interfaces/IBondFPA.sol | 40 |
| src/interfaces/IBondTeller.sol | 12 |
| src/interfaces/IMoneyBrinter.sol | 49 |
| src/interfaces/IWETH.sol | 6 |
| src/interfaces/IZapper.sol | 112 |
| src/interfaces/beradrome/IGauge.sol | 15 |
| src/interfaces/beradrome/IPlugin.sol | 21 |
| src/interfaces/kodiak/ICommunalFarm.sol | 65 |
| src/interfaces/kodiak/IGauge.sol | 7 |
| src/interfaces/kodiak/IKdkToken.sol | 5 |
| src/interfaces/kodiak/IKodiakIsland.sol | 89 |
| src/interfaces/kodiak/IKodiakRewards.sol | 10 |
| src/interfaces/kodiak/IKodiakV1RouterStaking.sol | 69 |
| src/interfaces/kodiak/IKodiakVaultV1.sol | 24 |
| src/interfaces/kodiak/IXKdkToken.sol | 12 |
| src/interfaces/kodiak/IXKdkTokenUsage.sol | 5 |
| src/interfaces/oogabooga/IOBRouter.sol | 56 |
| **Total** | **2492** |


## Issue Summary

| Category | No. of Issues |
| --- | --- |
| High | 5 |
| Low | 19 |


# High Issues

## H-1: Contract Name Reused in Different Files

When compiling contracts with certain development frameworks (for example: Truffle), having contracts with the same name across different files can lead to one being overwritten.

<details><summary>2 Found Instances</summary>


- Found in src/interfaces/beradrome/IGauge.sol [Line: 23](src/interfaces/beradrome/IGauge.sol#L23)

	```solidity
	interface IGauge {
	```

- Found in src/interfaces/kodiak/IGauge.sol [Line: 5](src/interfaces/kodiak/IGauge.sol#L5)

	```solidity
	interface IGauge {
	```

</details>



## H-2: ETH transferred without address checks

Consider introducing checks for `msg.sender` to ensure the recipient of the money is as intended.

<details><summary>3 Found Instances</summary>


- Found in src/Yeet.sol [Line: 354](src/Yeet.sol#L354)

	```solidity
	    function claim() external nonReentrant {
	```

- Found in src/Yeet.sol [Line: 373](src/Yeet.sol#L373)

	```solidity
	    function restart(bytes32 userRandomNumber) external payable whenNotPaused {
	```

- Found in src/Yeetback.sol [Line: 132](src/Yeetback.sol#L132)

	```solidity
	    function claim(uint256 round) public nonReentrant {
	```

</details>



## H-3: Tautology or Contradiction in comparison

The condition has been determined to be either always true or always false due to the integer range in which we're operating.

<details><summary>4 Found Instances</summary>


- Found in src/YeetGameSettings.sol [Line: 103](src/YeetGameSettings.sol#L103)

	```solidity
	        require(_taxToPublicGoods >= 0, "YeetGameSettings: taxToPublicGoods must be positive");
	```

- Found in src/YeetGameSettings.sol [Line: 106](src/YeetGameSettings.sol#L106)

	```solidity
	        require(_taxToTreasury >= 0, "YeetGameSettings: taxToTreasury must be positive");
	```

- Found in src/YeetGameSettings.sol [Line: 109](src/YeetGameSettings.sol#L109)

	```solidity
	        require(_yeetbackPercentage >= 0, "YeetGameSettings: yeetbackPercentage must be positive");
	```

- Found in src/YeetGameSettings.sol [Line: 120](src/YeetGameSettings.sol#L120)

	```solidity
	        require(_bootstrapPhaseDuration >= 0, "YeetGameSettings: bootstrapPhaseDuration must be greater than 0");
	```

</details>



## H-4: Weak Randomness

The use of keccak256 hash functions on predictable values like block.timestamp, block.number, or similar data, including modulo operations on these values, should be avoided for generating randomness, as they are easily predictable and manipulable. The `PREVRANDAO` opcode also should not be used as a source of randomness. Instead, utilize Chainlink VRF for cryptographically secure and provably random values to ensure protocol integrity.

<details><summary>1 Found Instances</summary>


- Found in src/Reward.sol [Line: 109](src/Reward.sol#L109)

	```solidity
	        return block.timestamp - (block.timestamp % 1 days);
	```

</details>



## H-5: Contract locks Ether without a withdraw function

It appears that the contract includes a payable function to accept Ether but lacks a corresponding function to withdraw it, which leads to the Ether being locked in the contract. To resolve this issue, please implement a public or external function that allows for the withdrawal of Ether from the contract.

<details><summary>1 Found Instances</summary>


- Found in src/StakeV2.sol [Line: 63](src/StakeV2.sol#L63)

	```solidity
	contract StakeV2 is Manager, ReentrancyGuard {
	```

</details>



# Low Issues

## L-1: Centralization Risk

Contracts have owners with privileged rights to perform admin tasks and need to be trusted to not perform malicious updates or drain funds.

<details><summary>37 Found Instances</summary>


- Found in src/Reward.sol [Line: 29](src/Reward.sol#L29)

	```solidity
	contract OnlyYeetContract is Ownable2Step {
	```

- Found in src/Reward.sol [Line: 39](src/Reward.sol#L39)

	```solidity
	    function setYeetContract(address _yeetContract) external onlyOwner {
	```

- Found in src/Reward.sol [Line: 112](src/Reward.sol#L112)

	```solidity
	    function clawbackTokens(uint256 tokenAmount) external onlyOwner {
	```

- Found in src/RewardSettings.sol [Line: 27](src/RewardSettings.sol#L27)

	```solidity
	contract RewardSettings is Ownable2Step {
	```

- Found in src/RewardSettings.sol [Line: 41](src/RewardSettings.sol#L41)

	```solidity
	    function setYeetRewardsSettings(uint256 _maxCapPerWalletPerEpochFactor) external onlyOwner {
	```

- Found in src/StakeV2.sol [Line: 35](src/StakeV2.sol#L35)

	```solidity
	contract Manager is IManager, Ownable {
	```

- Found in src/StakeV2.sol [Line: 48](src/StakeV2.sol#L48)

	```solidity
	    function addManager(address _manager) external override onlyOwner {
	```

- Found in src/StakeV2.sol [Line: 54](src/StakeV2.sol#L54)

	```solidity
	    function removeManager(address _manager) external override onlyOwner {
	```

- Found in src/Yeet.sol [Line: 42](src/Yeet.sol#L42)

	```solidity
	contract Yeet is Pausable, Ownable, ReentrancyGuard {
	```

- Found in src/Yeet.sol [Line: 517](src/Yeet.sol#L517)

	```solidity
	    function payoutPublicGoods() external onlyOwner nonReentrant { // @f-a follow 应该不能重入, nonReentrant 无法交叉重入
	```

- Found in src/Yeet.sol [Line: 524](src/Yeet.sol#L524)

	```solidity
	    function payoutTreasuryRevenue() external onlyOwner nonReentrant {
	```

- Found in src/Yeet.sol [Line: 531](src/Yeet.sol#L531)

	```solidity
	    function setPublicGoodsAddress(address _publicGoodsAddress) external onlyOwner {
	```

- Found in src/Yeet.sol [Line: 538](src/Yeet.sol#L538)

	```solidity
	    function setTreasuryRevenueAddress(address _treasuryRevenueAddress) external onlyOwner {
	```

- Found in src/Yeet.sol [Line: 546](src/Yeet.sol#L546)

	```solidity
	    function setYeetardsNFTsAddress(address _yeetardsNFTsAddress) external onlyOwner {
	```

- Found in src/Yeet.sol [Line: 553](src/Yeet.sol#L553)

	```solidity
	    function updateStakingContract(StakeV2 _staking) external onlyOwner {
	```

- Found in src/Yeet.sol [Line: 611](src/Yeet.sol#L611)

	```solidity
	    function pause() external onlyOwner {
	```

- Found in src/Yeet.sol [Line: 615](src/Yeet.sol#L615)

	```solidity
	    function unpause() external onlyOwner {
	```

- Found in src/YeetGameSettings.sol [Line: 28](src/YeetGameSettings.sol#L28)

	```solidity
	contract YeetGameSettings is Ownable2Step {
	```

- Found in src/YeetGameSettings.sol [Line: 90](src/YeetGameSettings.sol#L90)

	```solidity
	    ) external onlyOwner {
	```

- Found in src/Yeetback.sol [Line: 33](src/Yeetback.sol#L33)

	```solidity
	contract Yeetback is Ownable2Step, IEntropyConsumer, ReentrancyGuard { // 实现IEntropyConsumer，预言机获取随机数
	```

- Found in src/Yeetback.sol [Line: 100](src/Yeetback.sol#L100)

	```solidity
	    function addYeetsInRound(uint256 round, address user) public onlyOwner {
	```

- Found in src/Yeetback.sol [Line: 116](src/Yeetback.sol#L116)

	```solidity
	    function addYeetback(bytes32 userRandomNumber, uint256 round, uint256 amount) public payable onlyOwner {
	```

- Found in src/contracts/MoneyBrinter.sol [Line: 50](src/contracts/MoneyBrinter.sol#L50)

	```solidity
	contract MoneyBrinter is ERC4626, IMoneyBrinter, Ownable, ReentrancyGuard {
	```

- Found in src/contracts/MoneyBrinter.sol [Line: 236](src/contracts/MoneyBrinter.sol#L236)

	```solidity
	    function setExitFeeBasisPoints(uint256 newFeeBps) public override onlyOwner {
	```

- Found in src/contracts/MoneyBrinter.sol [Line: 249](src/contracts/MoneyBrinter.sol#L249)

	```solidity
	    function setTreasury(address newTreasury) public override onlyOwner {
	```

- Found in src/contracts/MoneyBrinter.sol [Line: 262](src/contracts/MoneyBrinter.sol#L262)

	```solidity
	    function setZapper(address newZapper) public override onlyOwner {
	```

- Found in src/contracts/MoneyBrinter.sol [Line: 276](src/contracts/MoneyBrinter.sol#L276)

	```solidity
	    function setStrategyManager(address manager, bool isWhitelisted) public override onlyOwner {
	```

- Found in src/contracts/MoneyBrinter.sol [Line: 287](src/contracts/MoneyBrinter.sol#L287)

	```solidity
	    function setXKdk(address newXKdk) public override onlyOwner {
	```

- Found in src/contracts/MoneyBrinter.sol [Line: 300](src/contracts/MoneyBrinter.sol#L300)

	```solidity
	    function setAllocationFlagxKDK(bool flag) public override onlyOwner {
	```

- Found in src/contracts/MoneyBrinter.sol [Line: 312](src/contracts/MoneyBrinter.sol#L312)

	```solidity
	    function setKodiakRewards(address newKodiakRewards) public override onlyOwner {
	```

- Found in src/contracts/Zapper.sol [Line: 71](src/contracts/Zapper.sol#L71)

	```solidity
	contract Zapper is IZapper, Ownable, ReentrancyGuard {
	```

- Found in src/contracts/Zapper.sol [Line: 358](src/contracts/Zapper.sol#L358)

	```solidity
	    function setSwapRouter(address _swapRouter) external override onlyOwner {
	```

- Found in src/contracts/Zapper.sol [Line: 363](src/contracts/Zapper.sol#L363)

	```solidity
	    function setCompoundingVault(address vault, bool isWhitelisted) external override onlyOwner {
	```

- Found in src/contracts/Zapper.sol [Line: 368](src/contracts/Zapper.sol#L368)

	```solidity
	    function updateSwappableTokens(address token, bool isWhitelisted) external override onlyOwner {
	```

- Found in src/contracts/Zapper.sol [Line: 372](src/contracts/Zapper.sol#L372)

	```solidity
	    function setKodiakStakingRouter(address router) external override onlyOwner {
	```

- Found in src/contracts/Zapper.sol [Line: 378](src/contracts/Zapper.sol#L378)

	```solidity
	    function updateWhitelistedKodiakVault(address vault, bool isEnabled) external override onlyOwner {
	```

- Found in src/contracts/Zapper.sol [Line: 393](src/contracts/Zapper.sol#L393)

	```solidity
	    function setReferralCode(uint32 code) external override onlyOwner {
	```

</details>



## L-2: Unsafe ERC20 Operation

ERC20 functions may not behave as expected. For example: return values are not always meaningful. It is recommended to use OpenZeppelin's SafeERC20 library.

<details><summary>12 Found Instances</summary>


- Found in src/Reward.sol [Line: 113](src/Reward.sol#L113)

	```solidity
	        bool success = token.transfer(owner(), tokenAmount);
	```

- Found in src/Reward.sol [Line: 139](src/Reward.sol#L139)

	```solidity
	        token.transfer(msg.sender, amountEarned);
	```

- Found in src/StakeV2.sol [Line: 165](src/StakeV2.sol#L165)

	```solidity
	        stakingToken.approve(address(zapper), accRevToken0);
	```

- Found in src/StakeV2.sol [Line: 243](src/StakeV2.sol#L243)

	```solidity
	        stakingToken.transferFrom(msg.sender, address(this), amount);
	```

- Found in src/StakeV2.sol [Line: 292](src/StakeV2.sol#L292)

	```solidity
	        stakingToken.transfer(msg.sender, unlockedAmount);
	```

- Found in src/StakeV2.sol [Line: 293](src/StakeV2.sol#L293)

	```solidity
	        stakingToken.transfer(address(0x000000dead), lockedAmount);
	```

- Found in src/StakeV2.sol [Line: 345](src/StakeV2.sol#L345)

	```solidity
	        IERC20(redeemParams.vault).approve(address(zapper), amountToWithdraw);
	```

- Found in src/StakeV2.sol [Line: 362](src/StakeV2.sol#L362)

	```solidity
	        IERC20(redeemParams.vault).approve(address(zapper), amountToWithdraw);
	```

- Found in src/StakeV2.sol [Line: 378](src/StakeV2.sol#L378)

	```solidity
	        IERC20(redeemParams.vault).approve(address(zapper), amountToWithdraw);
	```

- Found in src/StakeV2.sol [Line: 396](src/StakeV2.sol#L396)

	```solidity
	        IERC20(redeemParams.vault).approve(address(zapper), amountToWithdraw);
	```

- Found in src/contracts/Zapper.sol [Line: 414](src/contracts/Zapper.sol#L414)

	```solidity
	            payable(receiver).transfer(amount);
	```

- Found in src/contracts/Zapper.sol [Line: 570](src/contracts/Zapper.sol#L570)

	```solidity
	            IERC20(vaultParams.vault).transfer(_msgSender(), shares);
	```

</details>



## L-3: Unspecific Solidity Pragma

Consider using a specific version of Solidity in your contracts instead of a wide version. For example, instead of `pragma solidity ^0.8.0;`, use `pragma solidity 0.8.0;`

<details><summary>30 Found Instances</summary>


- Found in src/INFTContract.sol [Line: 21](src/INFTContract.sol#L21)

	```solidity
	pragma solidity ^0.8.19;
	```

- Found in src/NFTVesting.sol [Line: 22](src/NFTVesting.sol#L22)

	```solidity
	pragma solidity ^0.8.19;
	```

- Found in src/Reward.sol [Line: 21](src/Reward.sol#L21)

	```solidity
	pragma solidity ^0.8.19;
	```

- Found in src/RewardSettings.sol [Line: 21](src/RewardSettings.sol#L21)

	```solidity
	pragma solidity ^0.8.19;
	```

- Found in src/StakeV2.sol [Line: 21](src/StakeV2.sol#L21)

	```solidity
	pragma solidity ^0.8.19;
	```

- Found in src/Yeet.sol [Line: 21](src/Yeet.sol#L21)

	```solidity
	pragma solidity ^0.8.19;
	```

- Found in src/YeetGameSettings.sol [Line: 21](src/YeetGameSettings.sol#L21)

	```solidity
	pragma solidity ^0.8.19;
	```

- Found in src/YeetToken.sol [Line: 21](src/YeetToken.sol#L21)

	```solidity
	pragma solidity ^0.8.19;
	```

- Found in src/Yeetback.sol [Line: 21](src/Yeetback.sol#L21)

	```solidity
	pragma solidity ^0.8.19;
	```

- Found in src/contracts/MoneyBrinter.sol [Line: 21](src/contracts/MoneyBrinter.sol#L21)

	```solidity
	pragma solidity ^0.8.20;
	```

- Found in src/contracts/Zapper.sol [Line: 21](src/contracts/Zapper.sol#L21)

	```solidity
	pragma solidity ^0.8.20;
	```

- Found in src/interfaces/IBondAggregator.sol [Line: 2](src/interfaces/IBondAggregator.sol#L2)

	```solidity
	pragma solidity >=0.8.0;
	```

- Found in src/interfaces/IBondAuctioneer.sol [Line: 2](src/interfaces/IBondAuctioneer.sol#L2)

	```solidity
	pragma solidity >=0.8.0;
	```

- Found in src/interfaces/IBondFPA.sol [Line: 2](src/interfaces/IBondFPA.sol#L2)

	```solidity
	pragma solidity >=0.8.0;
	```

- Found in src/interfaces/IBondTeller.sol [Line: 2](src/interfaces/IBondTeller.sol#L2)

	```solidity
	pragma solidity >=0.8.0;
	```

- Found in src/interfaces/IMoneyBrinter.sol [Line: 25](src/interfaces/IMoneyBrinter.sol#L25)

	```solidity
	pragma solidity ^0.8.20;
	```

- Found in src/interfaces/IWETH.sol [Line: 1](src/interfaces/IWETH.sol#L1)

	```solidity
	pragma solidity >=0.5.0;
	```

- Found in src/interfaces/IZapper.sol [Line: 21](src/interfaces/IZapper.sol#L21)

	```solidity
	pragma solidity ^0.8.19;
	```

- Found in src/interfaces/beradrome/IGauge.sol [Line: 21](src/interfaces/beradrome/IGauge.sol#L21)

	```solidity
	pragma solidity ^0.8.20;
	```

- Found in src/interfaces/beradrome/IPlugin.sol [Line: 21](src/interfaces/beradrome/IPlugin.sol#L21)

	```solidity
	pragma solidity ^0.8.20;
	```

- Found in src/interfaces/kodiak/ICommunalFarm.sol [Line: 2](src/interfaces/kodiak/ICommunalFarm.sol#L2)

	```solidity
	pragma solidity ^0.8.20;
	```

- Found in src/interfaces/kodiak/IGauge.sol [Line: 3](src/interfaces/kodiak/IGauge.sol#L3)

	```solidity
	pragma solidity ^0.8.20;
	```

- Found in src/interfaces/kodiak/IKdkToken.sol [Line: 2](src/interfaces/kodiak/IKdkToken.sol#L2)

	```solidity
	pragma solidity ^0.8.20;
	```

- Found in src/interfaces/kodiak/IKodiakIsland.sol [Line: 2](src/interfaces/kodiak/IKodiakIsland.sol#L2)

	```solidity
	pragma solidity ^0.8.20;
	```

- Found in src/interfaces/kodiak/IKodiakRewards.sol [Line: 2](src/interfaces/kodiak/IKodiakRewards.sol#L2)

	```solidity
	pragma solidity ^0.8.20;
	```

- Found in src/interfaces/kodiak/IKodiakV1RouterStaking.sol [Line: 2](src/interfaces/kodiak/IKodiakV1RouterStaking.sol#L2)

	```solidity
	pragma solidity ^0.8.20;
	```

- Found in src/interfaces/kodiak/IKodiakVaultV1.sol [Line: 2](src/interfaces/kodiak/IKodiakVaultV1.sol#L2)

	```solidity
	pragma solidity ^0.8.20;
	```

- Found in src/interfaces/kodiak/IXKdkToken.sol [Line: 2](src/interfaces/kodiak/IXKdkToken.sol#L2)

	```solidity
	pragma solidity ^0.8.20;
	```

- Found in src/interfaces/kodiak/IXKdkTokenUsage.sol [Line: 2](src/interfaces/kodiak/IXKdkTokenUsage.sol#L2)

	```solidity
	pragma solidity ^0.8.20;
	```

- Found in src/interfaces/oogabooga/IOBRouter.sol [Line: 2](src/interfaces/oogabooga/IOBRouter.sol#L2)

	```solidity
	pragma solidity ^0.8.26;
	```

</details>



## L-4: Address State Variable Set Without Checks

Check for `address(0)` when assigning values to address state variables.

<details><summary>10 Found Instances</summary>


- Found in src/Reward.sol [Line: 94](src/Reward.sol#L94)

	```solidity
	        token = _token;
	```

- Found in src/Reward.sol [Line: 95](src/Reward.sol#L95)

	```solidity
	        rewardsSettings = _settings;
	```

- Found in src/Yeet.sol [Line: 249](src/Yeet.sol#L249)

	```solidity
	        rewardsContract = _reward;
	```

- Found in src/Yeet.sol [Line: 250](src/Yeet.sol#L250)

	```solidity
	        stakingContract = _staking;
	```

- Found in src/Yeet.sol [Line: 251](src/Yeet.sol#L251)

	```solidity
	        gameSettings = _gameSettings;
	```

- Found in src/Yeet.sol [Line: 254](src/Yeet.sol#L254)

	```solidity
	        yeetardsNFTsAddress = _yeetardsNFTsAddress;
	```

- Found in src/Yeet.sol [Line: 256](src/Yeet.sol#L256)

	```solidity
	        yeetback = new Yeetback(_entropy, _entropyProvider);
	```

- Found in src/Yeet.sol [Line: 554](src/Yeet.sol#L554)

	```solidity
	        stakingContract = _staking;
	```

- Found in src/contracts/MoneyBrinter.sol [Line: 125](src/contracts/MoneyBrinter.sol#L125)

	```solidity
	        treasury = _treasury;
	```

- Found in src/contracts/Zapper.sol [Line: 91](src/contracts/Zapper.sol#L91)

	```solidity
	        wbera = IWETH(_wbera);
	```

</details>



## L-5: Public Function Not Used Internally

If a function is marked public but is not used internall, consider marking it as `external`.

<details><summary>19 Found Instances</summary>


- Found in src/NFTVesting.sol [Line: 153](src/NFTVesting.sol#L153)

	```solidity
	    function claimMany(uint256[] calldata tokenIds) public {
	```

- Found in src/NFTVesting.sol [Line: 168](src/NFTVesting.sol#L168)

	```solidity
	    function claimableMany(uint256[] calldata tokenIds) public view returns (uint256) {
	```

- Found in src/Reward.sol [Line: 103](src/Reward.sol#L103)

	```solidity
	    function getEpochRewardsForCurrentEpoch() public view returns (uint256) {
	```

- Found in src/StakeV2.sol [Line: 130](src/StakeV2.sol#L130)

	```solidity
	    function depositReward() public payable {
	```

- Found in src/Yeet.sol [Line: 441](src/Yeet.sol#L441)

	```solidity
	    function minimumYeetPoint() public view returns (uint256) {
	```

- Found in src/Yeet.sol [Line: 490](src/Yeet.sol#L490)

	```solidity
	    function getWinner(uint256 round) public view returns (Winner memory) {
	```

- Found in src/Yeetback.sol [Line: 100](src/Yeetback.sol#L100)

	```solidity
	    function addYeetsInRound(uint256 round, address user) public onlyOwner {
	```

- Found in src/Yeetback.sol [Line: 106](src/Yeetback.sol#L106)

	```solidity
	    function getYeetsInRound(uint256 round) public view returns (address[] memory) {
	```

- Found in src/Yeetback.sol [Line: 116](src/Yeetback.sol#L116)

	```solidity
	    function addYeetback(bytes32 userRandomNumber, uint256 round, uint256 amount) public payable onlyOwner {
	```

- Found in src/Yeetback.sol [Line: 132](src/Yeetback.sol#L132)

	```solidity
	    function claim(uint256 round) public nonReentrant {
	```

- Found in src/Yeetback.sol [Line: 149](src/Yeetback.sol#L149)

	```solidity
	    function claimable(uint256 round, address user) public view returns (uint256) {
	```

- Found in src/contracts/Zapper.sol [Line: 133](src/contracts/Zapper.sol#L133)

	```solidity
	    function zapInNative(
	```

- Found in src/contracts/Zapper.sol [Line: 169](src/contracts/Zapper.sol#L169)

	```solidity
	    function zapInToken0(
	```

- Found in src/contracts/Zapper.sol [Line: 186](src/contracts/Zapper.sol#L186)

	```solidity
	    function zapInToken1(
	```

- Found in src/contracts/Zapper.sol [Line: 207](src/contracts/Zapper.sol#L207)

	```solidity
	    function zapIn(
	```

- Found in src/contracts/Zapper.sol [Line: 231](src/contracts/Zapper.sol#L231)

	```solidity
	    function zapInWithMultipleTokens(
	```

- Found in src/contracts/Zapper.sol [Line: 250](src/contracts/Zapper.sol#L250)

	```solidity
	    function zapOutToToken0(
	```

- Found in src/contracts/Zapper.sol [Line: 273](src/contracts/Zapper.sol#L273)

	```solidity
	    function zapOutToToken1(
	```

- Found in src/contracts/Zapper.sol [Line: 299](src/contracts/Zapper.sol#L299)

	```solidity
	    function zapOutNative(
	```

</details>



## L-6: Literal Instead of Constant

Define and use `constant` variables instead of using literals. If the same constant literal value is used multiple times, create a constant state variable and reference it throughout the contract.

<details><summary>14 Found Instances</summary>


- Found in src/YeetGameSettings.sol [Line: 59](src/YeetGameSettings.sol#L59)

	```solidity
	        TAX_PER_YEET = 1000;
	```

- Found in src/YeetGameSettings.sol [Line: 61](src/YeetGameSettings.sol#L61)

	```solidity
	        TAX_TO_PUBLIC_GOODS = 1000;
	```

- Found in src/YeetGameSettings.sol [Line: 62](src/YeetGameSettings.sol#L62)

	```solidity
	        TAX_TO_TREASURY = 2000;
	```

- Found in src/YeetGameSettings.sol [Line: 63](src/YeetGameSettings.sol#L63)

	```solidity
	        YEETBACK_PERCENTAGE = 2000;
	```

- Found in src/YeetGameSettings.sol [Line: 66](src/YeetGameSettings.sol#L66)

	```solidity
	        MINIMUM_YEET_POINT = 0.001 ether;
	```

- Found in src/YeetGameSettings.sol [Line: 95](src/YeetGameSettings.sol#L95)

	```solidity
	        require(_potDivision <= 1000, "YeetGameSettings: potDivision must be less than 1000"); // 0.1% of the pot
	```

- Found in src/YeetGameSettings.sol [Line: 98](src/YeetGameSettings.sol#L98)

	```solidity
	        require(_taxPerYeet <= 2000, "YeetGameSettings: taxPerYeet must be less than 20%");
	```

- Found in src/YeetGameSettings.sol [Line: 100](src/YeetGameSettings.sol#L100)

	```solidity
	        require(_taxToStakers >= 5000, "YeetGameSettings: taxToStakers must be greater than 50%");
	```

- Found in src/YeetGameSettings.sol [Line: 104](src/YeetGameSettings.sol#L104)

	```solidity
	        require(_taxToPublicGoods <= 2000, "YeetGameSettings: taxToPublicGoods must be less than 20%");
	```

- Found in src/YeetGameSettings.sol [Line: 107](src/YeetGameSettings.sol#L107)

	```solidity
	        require(_taxToTreasury <= 5000, "YeetGameSettings: taxToTreasury must be less than 50%");
	```

- Found in src/YeetGameSettings.sol [Line: 110](src/YeetGameSettings.sol#L110)

	```solidity
	        require(_yeetbackPercentage <= 2000, "YeetGameSettings: yeetbackPercentage must be less than 20%");
	```

- Found in src/YeetGameSettings.sol [Line: 117](src/YeetGameSettings.sol#L117)

	```solidity
	        require(_cooldownTime <= 3 days, "YeetGameSettings: cooldownTime must be less than 3 day");
	```

- Found in src/YeetGameSettings.sol [Line: 119](src/YeetGameSettings.sol#L119)

	```solidity
	        require(_bootstrapPhaseDuration <= 3 days, "YeetGameSettings: bootstrapPhaseDuration must be less than 3 day");
	```

- Found in src/YeetGameSettings.sol [Line: 122](src/YeetGameSettings.sol#L122)

	```solidity
	        require(_minimumYeetPoint >= 0.001 ether, "YeetGameSettings: minimumYeetPoint must be greater than 0.001 ether");
	```

</details>



## L-7: `nonReentrant` is Not the First Modifier

To protect against reentrancy in other modifiers, the `nonReentrant` modifier should be the first modifier in the list of modifiers.

<details><summary>5 Found Instances</summary>


- Found in src/StakeV2.sol [Line: 160](src/StakeV2.sol#L160)

	```solidity
	    ) external onlyManager nonReentrant {
	```

- Found in src/StakeV2.sol [Line: 192](src/StakeV2.sol#L192)

	```solidity
	    ) external onlyManager nonReentrant {
	```

- Found in src/Yeet.sol [Line: 517](src/Yeet.sol#L517)

	```solidity
	    function payoutPublicGoods() external onlyOwner nonReentrant { // @f-a follow 应该不能重入, nonReentrant 无法交叉重入
	```

- Found in src/Yeet.sol [Line: 524](src/Yeet.sol#L524)

	```solidity
	    function payoutTreasuryRevenue() external onlyOwner nonReentrant {
	```

- Found in src/contracts/MoneyBrinter.sol [Line: 205](src/contracts/MoneyBrinter.sol#L205)

	```solidity
	    ) public override onlyStrategyManager nonReentrant returns (uint256) {
	```

</details>



## L-8: PUSH0 Opcode

Solc compiler version 0.8.20 switches the default target EVM version to Shanghai, which means that the generated bytecode will include PUSH0 opcodes. Be sure to select the appropriate EVM version in case you intend to deploy on a chain other than mainnet like L2 chains that may not support PUSH0, otherwise deployment of your contracts will fail.

<details><summary>30 Found Instances</summary>


- Found in src/INFTContract.sol [Line: 21](src/INFTContract.sol#L21)

	```solidity
	pragma solidity ^0.8.19;
	```

- Found in src/NFTVesting.sol [Line: 22](src/NFTVesting.sol#L22)

	```solidity
	pragma solidity ^0.8.19;
	```

- Found in src/Reward.sol [Line: 21](src/Reward.sol#L21)

	```solidity
	pragma solidity ^0.8.19;
	```

- Found in src/RewardSettings.sol [Line: 21](src/RewardSettings.sol#L21)

	```solidity
	pragma solidity ^0.8.19;
	```

- Found in src/StakeV2.sol [Line: 21](src/StakeV2.sol#L21)

	```solidity
	pragma solidity ^0.8.19;
	```

- Found in src/Yeet.sol [Line: 21](src/Yeet.sol#L21)

	```solidity
	pragma solidity ^0.8.19;
	```

- Found in src/YeetGameSettings.sol [Line: 21](src/YeetGameSettings.sol#L21)

	```solidity
	pragma solidity ^0.8.19;
	```

- Found in src/YeetToken.sol [Line: 21](src/YeetToken.sol#L21)

	```solidity
	pragma solidity ^0.8.19;
	```

- Found in src/Yeetback.sol [Line: 21](src/Yeetback.sol#L21)

	```solidity
	pragma solidity ^0.8.19;
	```

- Found in src/contracts/MoneyBrinter.sol [Line: 21](src/contracts/MoneyBrinter.sol#L21)

	```solidity
	pragma solidity ^0.8.20;
	```

- Found in src/contracts/Zapper.sol [Line: 21](src/contracts/Zapper.sol#L21)

	```solidity
	pragma solidity ^0.8.20;
	```

- Found in src/interfaces/IBondAggregator.sol [Line: 2](src/interfaces/IBondAggregator.sol#L2)

	```solidity
	pragma solidity >=0.8.0;
	```

- Found in src/interfaces/IBondAuctioneer.sol [Line: 2](src/interfaces/IBondAuctioneer.sol#L2)

	```solidity
	pragma solidity >=0.8.0;
	```

- Found in src/interfaces/IBondFPA.sol [Line: 2](src/interfaces/IBondFPA.sol#L2)

	```solidity
	pragma solidity >=0.8.0;
	```

- Found in src/interfaces/IBondTeller.sol [Line: 2](src/interfaces/IBondTeller.sol#L2)

	```solidity
	pragma solidity >=0.8.0;
	```

- Found in src/interfaces/IMoneyBrinter.sol [Line: 25](src/interfaces/IMoneyBrinter.sol#L25)

	```solidity
	pragma solidity ^0.8.20;
	```

- Found in src/interfaces/IWETH.sol [Line: 1](src/interfaces/IWETH.sol#L1)

	```solidity
	pragma solidity >=0.5.0;
	```

- Found in src/interfaces/IZapper.sol [Line: 21](src/interfaces/IZapper.sol#L21)

	```solidity
	pragma solidity ^0.8.19;
	```

- Found in src/interfaces/beradrome/IGauge.sol [Line: 21](src/interfaces/beradrome/IGauge.sol#L21)

	```solidity
	pragma solidity ^0.8.20;
	```

- Found in src/interfaces/beradrome/IPlugin.sol [Line: 21](src/interfaces/beradrome/IPlugin.sol#L21)

	```solidity
	pragma solidity ^0.8.20;
	```

- Found in src/interfaces/kodiak/ICommunalFarm.sol [Line: 2](src/interfaces/kodiak/ICommunalFarm.sol#L2)

	```solidity
	pragma solidity ^0.8.20;
	```

- Found in src/interfaces/kodiak/IGauge.sol [Line: 3](src/interfaces/kodiak/IGauge.sol#L3)

	```solidity
	pragma solidity ^0.8.20;
	```

- Found in src/interfaces/kodiak/IKdkToken.sol [Line: 2](src/interfaces/kodiak/IKdkToken.sol#L2)

	```solidity
	pragma solidity ^0.8.20;
	```

- Found in src/interfaces/kodiak/IKodiakIsland.sol [Line: 2](src/interfaces/kodiak/IKodiakIsland.sol#L2)

	```solidity
	pragma solidity ^0.8.20;
	```

- Found in src/interfaces/kodiak/IKodiakRewards.sol [Line: 2](src/interfaces/kodiak/IKodiakRewards.sol#L2)

	```solidity
	pragma solidity ^0.8.20;
	```

- Found in src/interfaces/kodiak/IKodiakV1RouterStaking.sol [Line: 2](src/interfaces/kodiak/IKodiakV1RouterStaking.sol#L2)

	```solidity
	pragma solidity ^0.8.20;
	```

- Found in src/interfaces/kodiak/IKodiakVaultV1.sol [Line: 2](src/interfaces/kodiak/IKodiakVaultV1.sol#L2)

	```solidity
	pragma solidity ^0.8.20;
	```

- Found in src/interfaces/kodiak/IXKdkToken.sol [Line: 2](src/interfaces/kodiak/IXKdkToken.sol#L2)

	```solidity
	pragma solidity ^0.8.20;
	```

- Found in src/interfaces/kodiak/IXKdkTokenUsage.sol [Line: 2](src/interfaces/kodiak/IXKdkTokenUsage.sol#L2)

	```solidity
	pragma solidity ^0.8.20;
	```

- Found in src/interfaces/oogabooga/IOBRouter.sol [Line: 2](src/interfaces/oogabooga/IOBRouter.sol#L2)

	```solidity
	pragma solidity ^0.8.26;
	```

</details>



## L-9: Modifier Invoked Only Once

Consider removing the modifier or inlining the logic into the calling function.

<details><summary>1 Found Instances</summary>


- Found in src/Reward.sol [Line: 34](src/Reward.sol#L34)

	```solidity
	    modifier onlyYeetOwner() {
	```

</details>



## L-10: Large Numeric Literal

Large literal values multiples of 10000 can be replaced with scientific notation.Use `e` notation, for example: `1e18`, instead of its full numeric value.

<details><summary>4 Found Instances</summary>


- Found in src/Yeet.sol [Line: 579](src/Yeet.sol#L579)

	```solidity
	        return value + (value * nftBoost) / 10000;
	```

- Found in src/YeetGameSettings.sol [Line: 40](src/YeetGameSettings.sol#L40)

	```solidity
	    uint256 public constant SCALE = 10000;
	```

- Found in src/YeetGameSettings.sol [Line: 113](src/YeetGameSettings.sol#L113)

	```solidity
	            _taxToStakers + _taxToPublicGoods + _taxToTreasury == 10000,
	```

- Found in src/YeetToken.sol [Line: 27](src/YeetToken.sol#L27)

	```solidity
	        _mint(msg.sender, 1_000_000_000 ether);
	```

</details>



## L-11: Contract has TODO Comments

Contract contains comments with TODOS. Consider implementing or removing them.

<details><summary>2 Found Instances</summary>


- Found in src/contracts/MoneyBrinter.sol [Line: 50](src/contracts/MoneyBrinter.sol#L50)

	```solidity
	contract MoneyBrinter is ERC4626, IMoneyBrinter, Ownable, ReentrancyGuard {
	```

- Found in src/contracts/Zapper.sol [Line: 71](src/contracts/Zapper.sol#L71)

	```solidity
	contract Zapper is IZapper, Ownable, ReentrancyGuard {
	```

</details>



## L-12: Unused Error

Consider using or removing the unused error.

<details><summary>3 Found Instances</summary>


- Found in src/Yeet.sol [Line: 61](src/Yeet.sol#L61)

	```solidity
	    error NFTNotEligibleForBoost(uint256 tokenId);
	```

- Found in src/interfaces/beradrome/IPlugin.sol [Line: 57](src/interfaces/beradrome/IPlugin.sol#L57)

	```solidity
	    error Plugin__InvalidZeroInput();
	```

- Found in src/interfaces/beradrome/IPlugin.sol [Line: 58](src/interfaces/beradrome/IPlugin.sol#L58)

	```solidity
	    error Plugin__NotAuthorizedVoter();
	```

</details>



## L-13: Loop Contains `require`/`revert`

Avoid `require` / `revert` statements in a loop because a single bad item can cause the whole transaction to fail. It's better to forgive on fail and return failed elements post processing of the loop

<details><summary>6 Found Instances</summary>


- Found in src/NFTVesting.sol [Line: 155](src/NFTVesting.sol#L155)

	```solidity
	        for (uint256 i; i < length; i++) {
	```

- Found in src/Yeet.sol [Line: 341](src/Yeet.sol#L341)

	```solidity
	            for (uint256 i = 0; i < amountOfTickers; i++) {
	```

- Found in src/Yeet.sol [Line: 596](src/Yeet.sol#L596)

	```solidity
	        for (uint256 i = 0; i < balance; i++) {
	```

- Found in src/Yeet.sol [Line: 628](src/Yeet.sol#L628)

	```solidity
	        for (uint256 i = 0; i < tokenIds.length - 1; i++) {
	```

- Found in src/contracts/Zapper.sol [Line: 672](src/contracts/Zapper.sol#L672)

	```solidity
	        for (uint256 i = 0; i < params.swapToToken0.length; i++) {
	```

- Found in src/contracts/Zapper.sol [Line: 680](src/contracts/Zapper.sol#L680)

	```solidity
	        for (uint256 i = params.swapToToken0.length; i < params.inputTokens.length; i++) {
	```

</details>



## L-14: Uninitialized Local Variable

Initialize all the variables. If a variable is meant to be initialized to zero, explicitly set it to zero to improve code readability.

<details><summary>3 Found Instances</summary>


- Found in src/NFTVesting.sol [Line: 155](src/NFTVesting.sol#L155)

	```solidity
	        for (uint256 i; i < length; i++) {
	```

- Found in src/NFTVesting.sol [Line: 171](src/NFTVesting.sol#L171)

	```solidity
	        for (uint256 i; i < length; i++) {
	```

- Found in src/Yeetback.sol [Line: 83](src/Yeetback.sol#L83)

	```solidity
	        for (uint256 i; i < nrOfWinners; i++) {
	```

</details>



## L-15: Costly operations inside loop

Invoking `SSTORE` operations in loops may waste gas. Use a local variable to hold the loop computation result.

<details><summary>6 Found Instances</summary>


- Found in src/NFTVesting.sol [Line: 88](src/NFTVesting.sol#L88)

	```solidity
	            for (uint256 i = 0; i < _blacklistedTokenIds.length; i++) {
	```

- Found in src/NFTVesting.sol [Line: 96](src/NFTVesting.sol#L96)

	```solidity
	            for (uint256 i = 0; i < _allowedTokenIds.length; i++) {
	```

- Found in src/NFTVesting.sol [Line: 155](src/NFTVesting.sol#L155)

	```solidity
	        for (uint256 i; i < length; i++) {
	```

- Found in src/StakeV2.sol [Line: 411](src/StakeV2.sol#L411)

	```solidity
	        for (uint256 i = _index; i < length - 1; i++) {
	```

- Found in src/Yeet.sol [Line: 341](src/Yeet.sol#L341)

	```solidity
	            for (uint256 i = 0; i < amountOfTickers; i++) {
	```

- Found in src/Yeetback.sol [Line: 83](src/Yeetback.sol#L83)

	```solidity
	        for (uint256 i; i < nrOfWinners; i++) {
	```

</details>



## L-16: Unused Import

Redundant import statement. Consider removing it.

<details><summary>2 Found Instances</summary>


- Found in src/Yeet.sol [Line: 24](src/Yeet.sol#L24)

	```solidity
	import "./YeetToken.sol";
	```

- Found in src/contracts/Zapper.sol [Line: 33](src/contracts/Zapper.sol#L33)

	```solidity
	import {IMoneyBrinter} from "../interfaces/IMoneyBrinter.sol";  // @q 又没用？
	```

</details>



## L-17: State Variable Could Be Constant

State variables that are not updated following deployment should be declared constant to save gas. Add the `constant` attribute to state variables that never change.

<details><summary>1 Found Instances</summary>


- Found in src/Yeet.sol [Line: 203](src/Yeet.sol#L203)

	```solidity
	    uint256[26] public nftBoostLookup = [
	```

</details>



## L-18: State Change Without Event

There are state variable changes in this function but no event is emitted. Consider emitting an event to enable offchain indexers to track the changes.

<details><summary>9 Found Instances</summary>


- Found in src/Reward.sol [Line: 39](src/Reward.sol#L39)

	```solidity
	    function setYeetContract(address _yeetContract) external onlyOwner {
	```

- Found in src/StakeV2.sol [Line: 48](src/StakeV2.sol#L48)

	```solidity
	    function addManager(address _manager) external override onlyOwner {
	```

- Found in src/StakeV2.sol [Line: 54](src/StakeV2.sol#L54)

	```solidity
	    function removeManager(address _manager) external override onlyOwner {
	```

- Found in src/Yeet.sol [Line: 553](src/Yeet.sol#L553)

	```solidity
	    function updateStakingContract(StakeV2 _staking) external onlyOwner {
	```

- Found in src/Yeetback.sol [Line: 100](src/Yeetback.sol#L100)

	```solidity
	    function addYeetsInRound(uint256 round, address user) public onlyOwner {
	```

- Found in src/contracts/Zapper.sol [Line: 358](src/contracts/Zapper.sol#L358)

	```solidity
	    function setSwapRouter(address _swapRouter) external override onlyOwner {
	```

- Found in src/contracts/Zapper.sol [Line: 363](src/contracts/Zapper.sol#L363)

	```solidity
	    function setCompoundingVault(address vault, bool isWhitelisted) external override onlyOwner {
	```

- Found in src/contracts/Zapper.sol [Line: 372](src/contracts/Zapper.sol#L372)

	```solidity
	    function setKodiakStakingRouter(address router) external override onlyOwner {
	```

- Found in src/contracts/Zapper.sol [Line: 393](src/contracts/Zapper.sol#L393)

	```solidity
	    function setReferralCode(uint32 code) external override onlyOwner {
	```

</details>



## L-19: State Variable Could Be Immutable

State variables that are only changed in the constructor should be declared immutable to save gas. Add the `immutable` attribute to state variables that are only changed in the constructor

<details><summary>11 Found Instances</summary>


- Found in src/Reward.sol [Line: 49](src/Reward.sol#L49)

	```solidity
	    IERC20 public token;
	```

- Found in src/Reward.sol [Line: 51](src/Reward.sol#L51)

	```solidity
	    RewardSettings public rewardsSettings;
	```

- Found in src/Yeet.sol [Line: 124](src/Yeet.sol#L124)

	```solidity
	    address public yeetTokenAddress; // @q yeettoken没用？
	```

- Found in src/Yeet.sol [Line: 126](src/Yeet.sol#L126)

	```solidity
	    Reward public rewardsContract;
	```

- Found in src/Yeet.sol [Line: 130](src/Yeet.sol#L130)

	```solidity
	    YeetGameSettings public gameSettings;
	```

- Found in src/Yeet.sol [Line: 134](src/Yeet.sol#L134)

	```solidity
	    Yeetback public yeetback;
	```

- Found in src/Yeetback.sol [Line: 36](src/Yeetback.sol#L36)

	```solidity
	    IEntropy private entropy; // @q-a 什么是 entropy - pyth Oracle 生成随机数库
	```

- Found in src/Yeetback.sol [Line: 38](src/Yeetback.sol#L38)

	```solidity
	    address private entropyProvider;
	```

- Found in src/contracts/MoneyBrinter.sol [Line: 73](src/contracts/MoneyBrinter.sol#L73)

	```solidity
	    IPlugin public beradromeFarmPlugin;
	```

- Found in src/contracts/MoneyBrinter.sol [Line: 78](src/contracts/MoneyBrinter.sol#L78)

	```solidity
	    IGauge public beradromeFarmRewardsGauge;
	```

- Found in src/contracts/Zapper.sol [Line: 76](src/contracts/Zapper.sol#L76)

	```solidity
	    IWETH public wbera;
	```

</details>



